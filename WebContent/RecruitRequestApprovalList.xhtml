<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">

	<ui:define name="body">
		
		<style>
			.rich-filter-input {
				width: 85px;
			}
		</style>
		<h:form styleClass="edit" id="approvalRecruitRequestForm">
			<s:div style="padding-top: 20px;">
				<h:outputLabel value="#{messages['recruit.request.approve.list']}"
					styleClass="header-label " />
			</s:div>			

			<s:div styleClass="table-align" id="recruitmentDiv">
				<a:region rendered="#{empty recruitRequestHome.recruitRequests}" >
					<h:graphicImage url="/img/msginfo.png" />
						<h:outputLabel value="#{messages['recruit.request.search.no.results']}"	/>
				</a:region>		
				
				<rich:dataTable id="recruitRequestListTable" var="rcr"
					value="#{recruitRequestHome.recruitRequests}" rowKeyVar="index"
					rowClasses="brightRow,darkRow"
					rendered="#{not empty recruitRequestHome.recruitRequests}"
					reRender="paginationId" width="100%"
					rows="#{messages['pagination.size']}">
										
					<rich:column filterBy="#{rcr.recruitRequestName}"
						filterEvent="onkeyup" sortBy="#{rcr.recruitRequestName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['com.bosch.ui.name']}" />
						</f:facet>
						<s:link view="/RecruitRequestApproval.xhtml"
							value="#{rcr.recruitRequestName}"
							propagation="join"
							onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});">
							<rich:toolTip value="#{messages['recruit.request.approve.reject']}" />
							<f:param name="recruitRequestRcrRecruitRequestId" value="#{rcr.rcrRecruitRequestId}" />
							<f:param name="fromView" value="/RecruitRequestApprovalList.xhtml" />								
						</s:link>						
					</rich:column>				

					<rich:column filterBy="#{rcr.orgUnit.unitName}"
						filterEvent="onkeyup" sortBy="#{rcr.orgUnit.unitName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['org.unit']}" />
						</f:facet>
						<h:outputText value="#{rcr.orgUnit.unitName}" />
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.requestedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['requested.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.requestedDate}">
							<s:convertDateTime type="both" pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.closedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputText value="#{messages['closed.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.closedDate}">
							<s:convertDateTime type="both"
								pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>					
					
					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.createdBy}"
						sortable="true" filterBy="#{rcr.createdBy}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['recruit.request.created.by']}" />
						</f:facet>
						<h:outputText value="#{rcr.createdBy}" />
					</rich:column>				
					
					<rich:column styleClass="status textCenterAlign" sortBy="#{rcr.status}"
						sortable="true" filterBy="#{rcr.status}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['project.recruit.status']}" />
						</f:facet>
						<h:outputText value="#{rcr.status}" />
					</rich:column>

					<f:facet name="footer">
						<rich:datascroller for="recruitRequestListTable"
							renderIfSinglePage="false" 
							align="center" 
							id="paginationId"
							maxPages="#{messages['item.pagination.size']}"/>
					</f:facet>

				</rich:dataTable>
			</s:div>
		</h:form>
		
		<h:form styleClass="edit" id="approvedRecruitRequestForm">
			<s:div style="padding-top: 20px;">
				<h:outputLabel value="#{messages['recruit.request.approved.list']}"
					styleClass="header-label " />
			</s:div>			

			<s:div styleClass="table-align" id="approvedRecruitmentDiv">
				<a:region rendered="#{empty recruitRequestHome.approvedRecruitRequests}" >
					<h:graphicImage url="/img/msginfo.png" />
						<h:outputLabel value="#{messages['recruit.request.search.no.results']}"	/>
				</a:region>		
				
				<rich:dataTable id="approvedRecruitRequestListTable" 
					var="rcr"
					value="#{recruitRequestHome.approvedRecruitRequests}" 
					rowKeyVar="index"
					rowClasses="brightRow,darkRow"
					rendered="#{not empty recruitRequestHome.approvedRecruitRequests}"
					reRender="approvedPaginationId" 
					width="100%"
					rows="#{messages['pagination.size']}">
										
					<rich:column filterBy="#{rcr.recruitRequestName}"
						filterEvent="onkeyup" sortBy="#{rcr.recruitRequestName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['com.bosch.ui.name']}" />
						</f:facet>
						<s:link view="/RecruitRequest.xhtml"
							value="#{rcr.recruitRequestName}"
							propagation="join"
							onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});">
							<rich:toolTip value="#{messages['recruit.request.view']}" />
							<f:param name="recruitRequestRcrRecruitRequestId" value="#{rcr.rcrRecruitRequestId}" />
							<f:param name="fromView" value="/RecruitRequestApprovalList.xhtml" />								
						</s:link>						
					</rich:column>				

					<rich:column filterBy="#{rcr.orgUnit.unitName}"
						filterEvent="onkeyup" sortBy="#{rcr.orgUnit.unitName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['org.unit']}" />
						</f:facet>
						<h:outputText value="#{rcr.orgUnit.unitName}" />
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.requestedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['requested.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.requestedDate}">
							<s:convertDateTime type="both" pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.closedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputText value="#{messages['closed.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.closedDate}">
							<s:convertDateTime type="both"
								pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>					
					
					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.createdBy}"
						sortable="true" filterBy="#{rcr.createdBy}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['recruit.request.created.by']}" />
						</f:facet>
						<h:outputText value="#{rcr.createdBy}" />
					</rich:column>				
					
					<rich:column styleClass="status textCenterAlign" sortBy="#{rcr.status}"
						sortable="true" filterBy="#{rcr.status}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['project.recruit.status']}" />
						</f:facet>
						<h:outputText value="#{rcr.status}" />
					</rich:column>

					<f:facet name="footer">
						<rich:datascroller for="approvedRecruitRequestListTable"
							renderIfSinglePage="false" 
							align="center" 
							id="approvedPaginationId"
							maxPages="#{messages['item.pagination.size']}"/>
					</f:facet>

				</rich:dataTable>
			</s:div>
		</h:form>
		
		<h:form styleClass="edit" id="rejectedRecruitRequestForm">
			<s:div style="padding-top: 20px;">
				<h:outputLabel value="#{messages['recruit.request.rejected.list']}"
					styleClass="header-label " />
			</s:div>			

			<s:div styleClass="table-align" id="rejectedRecruitmentDiv">
				<a:region rendered="#{empty recruitRequestHome.rejectedRecruitRequests}" >
					<h:graphicImage url="/img/msginfo.png" />
						<h:outputLabel value="#{messages['recruit.request.search.no.results']}"	/>
				</a:region>		
				
				<rich:dataTable id="rejectedRecruitRequestListTable" 
					var="rcr"
					value="#{recruitRequestHome.rejectedRecruitRequests}" 
					rowKeyVar="index"
					rowClasses="brightRow,darkRow"
					rendered="#{not empty recruitRequestHome.rejectedRecruitRequests}"
					reRender="rejectedPaginationId" 
					width="100%"
					rows="#{messages['pagination.size']}">
										
					<rich:column filterBy="#{rcr.recruitRequestName}"
						filterEvent="onkeyup" sortBy="#{rcr.recruitRequestName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['com.bosch.ui.name']}" />
						</f:facet>
						<s:link view="/RecruitRequest.xhtml"
							value="#{rcr.recruitRequestName}"
							propagation="join"
							onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});">
							<rich:toolTip value="#{messages['recruit.request.view']}" />
							<f:param name="recruitRequestRcrRecruitRequestId" value="#{rcr.rcrRecruitRequestId}" />
							<f:param name="fromView" value="/RecruitRequestApprovalList.xhtml" />								
						</s:link>						
					</rich:column>				

					<rich:column filterBy="#{rcr.orgUnit.unitName}"
						filterEvent="onkeyup" sortBy="#{rcr.orgUnit.unitName}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['org.unit']}" />
						</f:facet>
						<h:outputText value="#{rcr.orgUnit.unitName}" />
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.requestedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputLabel value="#{messages['requested.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.requestedDate}">
							<s:convertDateTime type="both" pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>

					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.closedDate}"
						sortable="true">
						<f:facet name="header">
							<h:outputText value="#{messages['closed.date']}" />
						</f:facet>
						<h:outputText value="#{rcr.closedDate}">
							<s:convertDateTime type="both"
								pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
						</h:outputText>
					</rich:column>					
					
					<rich:column styleClass="textCenterAlign" sortBy="#{rcr.createdBy}"
						sortable="true" filterBy="#{rcr.createdBy}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['recruit.request.created.by']}" />
						</f:facet>
						<h:outputText value="#{rcr.createdBy}" />
					</rich:column>				
					
					<rich:column styleClass="status textCenterAlign" sortBy="#{rcr.status}"
						sortable="true" filterBy="#{rcr.status}" filterEvent="onkeyup">
						<f:facet name="header">
							<h:outputLabel value="#{messages['project.recruit.status']}" />
						</f:facet>
						<h:outputText value="#{rcr.status}" />
					</rich:column>

					<f:facet name="footer">
						<rich:datascroller for="rejectedRecruitRequestListTable"
							renderIfSinglePage="false" 
							align="center" 
							id="rejectedPaginationId"
							maxPages="#{messages['item.pagination.size']}"/>
					</f:facet>

				</rich:dataTable>
			</s:div>
		</h:form>
		
		<a:queue ignoreDupResponses="true" id="queue" requestDelay="100" />
	</ui:define>
</ui:composition>