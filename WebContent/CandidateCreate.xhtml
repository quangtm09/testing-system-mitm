<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">
	<ui:define name="body">
		<script type="text/javascript" src="#{request.getContextPath()}/script/candidate.js"/>	
		
		<h:form enctype="multipart/form-data"  id="candidateForm">
		<a:loadScript src="/script/utility.js" />

		<s:div style="padding-top: 20px;">
			<h:outputLabel value="#{messages['candidate.header.create']}"
				styleClass="header-label" />
		</s:div>
		

			<s:div styleClass="header-border">
				<h:panelGrid columns="2">									
					<s:decorate id="cddNameField" template="layout/edit.xhtml">					
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.name']}:" />
						</ui:define>
						<h:inputText id="cddName" maxlength="50"
							value="#{candidateHome.instance.cddName}" 
							styleClass="rtsTextBox"
							required="true"
							requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['candidate.name']}">
							<a:support event="onblur" ajaxSingle="true"
								action="#{candidateHome.fetchExistName}"
								reRender="cddExistNameDeco" 
								ignoreDupResponses="true"
								limitToList="true" />
								<rich:toolTip value="#{messages['invalid.candidate.no.special.chars']}" />
						</h:inputText>
						<h:outputLink value="#" id="handledByLinkx">
        					<rich:toolTip value="#{messages['invalid.candidate.no.special.chars']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/iconInfo.gif" />
						</h:outputLink>	
							
					</s:decorate>

					<s:decorate id="cddExistNameDeco">
						<s:div rendered="#{not empty candidateHome.existCandidates_Name}"
							id="cddExistNameField">
							<s:decorate template="layout/edit.xhtml">
								<ui:define name="label">
									<h:outputLabel styleClass="redText"
										value="#{messages['candidate.existing.candidates.names']}:">
										<rich:toolTip value="#{messages['candidate.existing.candidates.select']}" />
									</h:outputLabel>
								</ui:define>
								<a:repeat
									rendered="#{not empty candidateHome.existCandidates_Name}"
									value="#{candidateHome.existCandidates_Name}" var="_name"
									rowKeyVar="_key">
									<h:outputText value="#{_key + 1}. " />
									<s:link value="#{_name.cddName} #{' - '} #{_name.cddEmail}"
										disabled="true" styleClass="customLink"
										includePageParams="false">
										<a:support event="onclick"
											actionListener="#{candidateHome.assigncandidate(_name)}"
											reRender="candidateModalPanel,cddExistNameField"
											ajaxSingle="true"
											onsubmit="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});"
											oncomplete="Richfaces.hideModalPanel('ajaxLoadingModalBox');Richfaces.showModalPanel('candidateModalPanel');" />
									</s:link>
									<br />
								</a:repeat>
							</s:decorate>
						</s:div>
						<s:div rendered="#{empty candidateHome.existCandidates_Name}"
							id="cddEmptyExistNameField">
							<rich:spacer />
						</s:div>
					</s:decorate>

					<s:decorate id="cddPrefixField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.prefix']}:" />
						</ui:define>
						<h:selectOneMenu
							value="#{candidateHome.instance.cddPrefix}" 
							required="true">
							<f:selectItem itemValue="#{messages['prefix.mr']}" itemLabel="#{messages['prefix.mr']}" />
							<f:selectItem itemValue="#{messages['prefix.ms']}" itemLabel="#{messages['prefix.ms']}" />
						</h:selectOneMenu>
					</s:decorate>

					<s:decorate id="cddStatus" template="layout/edit.xhtml"
						rendered="#{candidateHome.managed}">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.status']}:" />
						</ui:define>
						<h:outputText value="#{candidateHome.instance.cddStatus}"
							styleClass="rtsTextBox" />
					</s:decorate>					

					<s:decorate id="cddDobField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.dateofbirth']}:" />
						</ui:define>
						<h:inputText value="#{candidateHome.instance.cddDob}" 
							validator="#{candidateValidator.validateDOB}">
							<s:validate/>
						</h:inputText>	
						<h:outputLink value="#" id="handledByLinkx">
        					<rich:toolTip value="#{messages['candidate.dob.tooltip']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/iconInfo.gif" />
						</h:outputLink>	
					</s:decorate>

					<s:decorate id="cddEmailField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{ messages['com.bosch.ui.email']}:" />							
						</ui:define>

						<h:inputText id="cddEmail" maxlength="50"
							value="#{candidateHome.instance.cddEmail}"
							styleClass="rtsTextBox"
							required="true"
							requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['com.bosch.ui.email']}">
							<a:support event="onblur" ajaxSingle="true"
								reRender="cddExistEmailDeco" 
								ignoreDupResponses="true"
								limitToList="true"
								action="#{candidateHome.fetchExistEmail}" />
						</h:inputText>						
					</s:decorate>

					<s:decorate id="cddExistEmailDeco">
						<s:div rendered="#{candidateHome.selectedCandidate != null}"
							id="cddExistEmailField">
							<s:decorate template="layout/edit.xhtml">
								<ui:define name="label">
									<h:outputLabel styleClass="redText"
										value="#{messages['candidate.existing.candidates.emails']}:">
										<rich:toolTip
											value="#{messages['candidate.existing.candidates.select']}" />
									</h:outputLabel>
								</ui:define>
								<s:link value="#{candidateHome.selectedCandidate.cddName}"
									disabled="true" styleClass="customLink"
									includePageParams="false">
									<a:support event="onclick" limitToList="true" ajaxSingle="true"
										ignoreDupResponses="true" reRender="candidateModalPanel"
										onsubmit="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});"
										oncomplete="Richfaces.hideModalPanel('ajaxLoadingModalBox');Richfaces.showModalPanel('candidateModalPanel');">
									</a:support>
								</s:link>
							</s:decorate>
						</s:div>
						<s:div rendered="#{empty candidateHome.existCandidates_Email}"
							id="cddEmptyExistEmailField">
							<rich:spacer />
						</s:div>
					</s:decorate>

					<s:decorate id="cddidentifynumberField"
						template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel
								value="#{messages['com.bosch.ui.identifynumber']}:" />
						</ui:define>
						<h:inputText value="#{candidateHome.instance.cddIdentityCard}"
							styleClass="rtsTextBox" maxlength="9" />
					</s:decorate>

					<s:decorate id="cddAddressField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.address']}:" />
						</ui:define>
						<h:inputTextarea id="addressFieldEdit"
								styleClass="rtsTextarea"
								value="#{candidateHome.instance.cddAddress}"/>
					</s:decorate>

					<s:decorate id="cddPhoneNoField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel
								value="#{ messages['com.bosch.ui.contactnumber']} 1:" />
						</ui:define>
						<h:inputText id="cddPhoneNo" maxlength="15"
							value="#{candidateHome.contactNumber1}" styleClass="rtsTextBox">
						</h:inputText>
						<a:support event="onblur" reRender="cddPhoneNoField"
							bypassUpdates="true" ajaxSingle="true" />
					</s:decorate>

					<s:decorate id="cddPhoneNoField2" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel
								value="#{ messages['com.bosch.ui.contactnumber']} 2:" />
						</ui:define>
						<h:inputText id="cddPhoneNo2" maxlength="15"
							styleClass="rtsTextBox" value="#{candidateHome.contactNumber2}">
						</h:inputText>
						<a:support event="onblur" reRender="cddPhoneNoField2"
							bypassUpdates="true" ajaxSingle="true" />
					</s:decorate>

					<s:decorate id="cddEducationDegreeField"
						template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel
								value="#{messages['com.bosch.ui.educationdegree']}:" />
						</ui:define>
						<h:selectOneMenu value="#{candidateHome.instance.cddDegree1}"
							styleClass="rtsSelectOneMenu">
							<f:selectItem itemValue=""
								itemLabel="#{messages['selectOptions']}" />
							<f:selectItem itemValue="#{messages['com.bosch.ui.diploma']}"
								itemLabel="#{messages['com.bosch.ui.diploma']}" />	
							<f:selectItem itemValue="#{messages['com.bosch.ui.graduated']}"
								itemLabel="#{messages['com.bosch.ui.graduated']}" />
							<f:selectItem itemValue="#{messages['com.bosch.ui.master']}"
								itemLabel="#{messages['com.bosch.ui.master']}" />
							<f:selectItem itemValue="#{messages['com.bosch.ui.phd']}"
								itemLabel="#{messages['com.bosch.ui.phd']}" />
						</h:selectOneMenu>
					</s:decorate>

					<s:decorate>
						<rich:spacer />
					</s:decorate>
					<a:region>
						<s:decorate id="cddUniversityField" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['com.bosch.ui.university']}:" />
							</ui:define>
							<h:selectOneMenu value="#{candidateHome.selectedUniversity}"
								styleClass="rtsSelectOneMenu">
								<s:selectItems value="#{universityList.resultList}"
									styleClass="rtsSelectOneMenu" var="item" label="#{item.name}"
									itemLabel="#{item.name}" itemValue="#{item.name}"
									noSelectionLabel="#{messages['selectOptions']}">
								</s:selectItems>
								<f:selectItem itemValue="other"
									itemLabel="#{messages['com.bosch.ui.other']}" />
								<a:support event="onchange" reRender="cddOtherUniversityField"
									ajaxSingle="true" />
							</h:selectOneMenu>
						</s:decorate>
					</a:region>
					

					<a:region>
						<s:decorate id="cddOtherUniversityField"
							template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputText
									rendered="#{candidateHome.selectedUniversity.equalsIgnoreCase('other')}"
									value="#{messages['com.bosch.ui.other']}#{' '}#{messages['com.bosch.ui.university']}#{' '} #{messages['com.bosch.ui.name']}:" />
							</ui:define>
							<h:inputText value="#{candidateHome.otherUnversity}"
								rendered="#{candidateHome.selectedUniversity.equalsIgnoreCase('other')}"
								required="true" maxlength="100" styleClass="rtsTextBox"
								requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['candidate.other.university.name']}">
							</h:inputText>
						</s:decorate>
					</a:region>
					
					<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.graduation.time']}:" />
						</ui:define>
						
						<h:selectOneMenu value="#{candidateHome.instance.graduationTime}">
							<s:selectItems value="#{candidateHome.graduationTimes}"
								var="_yr" itemLabel="#{_yr}" itemValue="#{_yr}" label="#{_yr}"
								noSelectionLabel="#{messages['selectOptions']}"/>
						</h:selectOneMenu>
					</s:decorate>	
					
					<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.current.company']}:" />
						</ui:define>
						<h:inputText value="#{candidateHome.instance.currentCompany}" styleClass="rtsTextBox" maxlength="50"/>
					</s:decorate>
					
					
					<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.current.position']}:" />
						</ui:define>
						<h:inputText value="#{candidateHome.instance.currentPosition}"  styleClass="rtsTextBox" maxlength="50"/>
					</s:decorate>
					
					<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.position.applied']}:" />
						</ui:define>
						<h:inputText value="#{candidateHome.instance.positionApplied}" styleClass="rtsTextBox" maxlength="50"/>
					</s:decorate>	

					<a:region>
						<s:decorate id="cddFacultyField" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['com.bosch.ui.faculty']}:" />
							</ui:define>
							<h:selectOneMenu value="#{candidateHome.selectedFaculty}"
								styleClass="rtsSelectOneMenu">
								<s:selectItems value="#{facultyList.resultList}" var="faculty"
									label="#{faculty.name}" itemValue="#{faculty.name}"
									itemLabel="#{faculty.name}"
									noSelectionLabel="#{messages['selectOptions']}" />
								<f:selectItem itemValue="other"
									itemLabel="#{messages['com.bosch.ui.other']}" />
								<a:support event="onchange" reRender="cddOtherFacultyField" />
							</h:selectOneMenu>
						</s:decorate>
					</a:region>

					<a:region>
						<s:decorate id="cddOtherFacultyField" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputText
									rendered="#{candidateHome.selectedFaculty.equalsIgnoreCase('other')}"
									value="#{messages['com.bosch.ui.other']}#{' '}#{messages['com.bosch.ui.faculty']}#{' '} #{messages['com.bosch.ui.name']}:" />
							</ui:define>
							<h:inputText value="#{candidateHome.otherFaculty}"
								styleClass="rtsTextBox"
								rendered="#{candidateHome.selectedFaculty.equalsIgnoreCase('other')}"
								required="true" maxlength="100"
								requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['candidate.other.faculty.name']}">
							</h:inputText>
						</s:decorate>
					</a:region>

					<s:decorate id="orgUnitField" template="layout/edit.xhtml"
						rendered="#{!candidateHome.managed}">
						<ui:define name="label">
							<h:outputLabel value="#{messages['org.unit']}:" />
						</ui:define>
						<h:selectOneMenu value="#{candidateHome.instance.orgUnit}"
							styleClass="rtsSelectOneMenu" 
							required="true"
							requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['org.unit']}">
							<s:selectItems value="#{candidateHome.chooseAbleOrgUnitList}"
								var="_unit" label="#{_unit.unitName}">
							</s:selectItems>
							<a:support event="onchange" ajaxSingle="true" limitToList="true"
								ignoreDupResponses="true" reRender="cddRequestNumberFieldDeco"
								action="#{candidateHome.resetRecruitRequest}">
							</a:support>
							<s:convertEntity />
						</h:selectOneMenu>
					</s:decorate>
					
					<s:decorate id="cddRequestNumberFieldDeco">
						<s:div rendered="#{ (not empty candidateHome.recruitRequests) }"
							id="cddExistNameField">
							<s:decorate id="cddRequestNumberField"
								template="layout/edit.xhtml">
								<ui:define name="label">
									<h:outputLabel
										value="#{messages['com.bosch.ui.applyforrequest']}:" />
								</ui:define>
								<h:selectOneMenu
									value="#{candidateHome.instance.recruitRequest}"
									styleClass="rtsSelectOneMenu">
									<s:selectItems value="#{candidateHome.recruitRequests}"
										var="rr" label="#{rr.recruitRequestName}"
										noSelectionLabel="#{messages['selectOptions']}">
									</s:selectItems>
									<s:convertEntity />
								</h:selectOneMenu>
							</s:decorate>
						</s:div>
						
					</s:decorate>			
					

					<s:decorate id="cddYearOfExperiencesField"
						template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel
								value="#{messages['com.bosch.ui.overallyearofexperience']}:" />
						</ui:define>
						<rich:inputNumberSpinner
							value="#{candidateHome.instance.cddYearOfExperience}"
							enableManualInput="false" step="0.5" minValue="0" maxValue="30" inputSize="17"/>
					</s:decorate>
					
					<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel	value="#{messages['com.bosch.ui.relevantexperiences']}:" />
						</ui:define>
						<rich:inputNumberSpinner enableManualInput="false" step="0.5"
							value="#{candidateHome.instance.cddRelevantExperience}"
							minValue="0" maxValue="30" inputSize="17"/>
					</s:decorate>
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.tinme.of.cv.received']}:" />
						</ui:define>
						<rich:calendar value="#{candidateHome.instance.timeOfCvReceived}"
							datePattern="#{messages['calendar.pattern']}"
							showApplyButton="false"
							enableManualInput="false"
							locale="#{calendarBean.locale}"
							monthLabels="#{messages['calendar.month.labels']}" 
							isDayEnabled="disablementFunction"
							dayStyleClass="disabledClassesProv"
							boundaryDatesMode="scroll"/>
					</s:decorate>
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.handled.by']}:" />
						</ui:define>

						<h:inputText value="#{candidateHome.instance.handledBy}"
							id="handledByTextField" binding="#{handledByTextField}"
							validator="#{candidateValidator.validateHandledBy}">
							<s:validate/>
						</h:inputText>
						<h:outputLink value="#" id="handledByToolTip">
        					<rich:toolTip value="#{messages['candidate.look.up.tooltip.value']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/iconInfo.gif" />
						</h:outputLink>
						<h:outputLink value="#" id="handledByLink">
        					<rich:toolTip value="#{messages['candidate.look.up.tooltip']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/headSearch.gif" />
							<rich:componentControl for="handledByModal" attachTo="handledByLink" operation="show" event="onclick"/>
						</h:outputLink>
					</s:decorate>
					
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.tinme.of.cv.sent']}:" />
						</ui:define>
						<rich:calendar value="#{candidateHome.instance.timeOfCvSent}"
							datePattern="#{messages['calendar.pattern']}"
							enableManualInput="false"
							locale="#{calendarBean.locale}"
							monthLabels="#{messages['calendar.month.labels']}" 
							isDayEnabled="disablementFunction"
							dayStyleClass="disabledClassesProv"
							boundaryDatesMode="scroll"/>
					</s:decorate>
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.shortlist.by']}:" />
						</ui:define>

						<h:inputText value="#{candidateHome.instance.shortListBy}"
							id="shortListByTextField" validator="#{candidateValidator.validateShortListBy}">
							<s:validate/>
						</h:inputText>
						
						<h:outputLink value="#" id="shortListByToolTip">
        					<rich:toolTip value="#{messages['candidate.look.up.tooltip.value']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/iconInfo.gif" />
						</h:outputLink>
						
						<h:outputLink value="#" id="shortListByLink">
        					<rich:toolTip value="#{messages['candidate.look.up.tooltip']}" /> 
        					<rich:spacer width="5px"/>
							<h:graphicImage value="/img/headSearch.gif" />
							<rich:componentControl for="shortListByModal" attachTo="shortListByLink" operation="show" event="onclick"/>
						</h:outputLink>
						
					</s:decorate>
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.shortlist.result']}:" />
						</ui:define>

						<h:selectOneMenu styleClass="rtsSelectOneMenu"
							value="#{candidateHome.instance.shortListResult}">
							<f:selectItem itemValue="" itemLabel="#{messages['selectOptions']}" />
							<f:selectItem itemValue="0" itemLabel="#{messages['candidate.shortlist.result.0']}" />
							<f:selectItem itemValue="1" itemLabel="#{messages['candidate.shortlist.result.1']}" />
						</h:selectOneMenu>	
						
					</s:decorate>
					
					
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.tested.on']}:" />
						</ui:define>
					
						<rich:calendar value="#{candidateHome.instance.testedOn}"
							datePattern="#{messages['calendar.pattern']}"
							enableManualInput="false"
							locale="#{calendarBean.locale}"
							monthLabels="#{messages['calendar.month.labels']}" />
					</s:decorate>
					
					<s:decorate	template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['candidate.tested.result']}:" />
						</ui:define>				
							
						<h:selectOneMenu styleClass="rtsSelectOneMenu"
							value="#{candidateHome.instance.testedResult}">
							<f:selectItem itemValue="" itemLabel="#{messages['selectOptions']}" />
							<f:selectItem itemValue="0" itemLabel="#{messages['candidate.tested.result.0']}" />
							<f:selectItem itemValue="1" itemLabel="#{messages['candidate.tested.result.1']}" />
						</h:selectOneMenu>	
					</s:decorate>

					<s:decorate id="cddPriorityField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.priority']}:" />
						</ui:define>
						<h:selectOneMenu value="#{candidateHome.instance.cddPriority}">
							<f:selectItem itemValue="3"	itemLabel="#{messages['com.bosch.ui.high']}" />
							<f:selectItem itemValue="2"	itemLabel="#{messages['com.bosch.ui.normal']}" />
							<f:selectItem itemValue="1" itemLabel="#{messages['com.bosch.ui.low']}" />
						</h:selectOneMenu>
					</s:decorate>

					<a:region renderRegionOnly="true">
						<s:decorate id="cddSourceField" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['com.bosch.ui.source']}:" />
							</ui:define>
							<h:selectOneMenu value="#{candidateHome.instance.cddSource}"
								styleClass="rtsSelectOneMenu">
								<f:selectItem itemLabel="#{messages['selectOptions']}"
									itemValue="" />
								<f:selectItem
									itemLabel="#{messages['com.bosch.ui.consultancy']}"
									itemValue="#{messages['com.bosch.ui.consultancy']}" />
								<f:selectItem itemLabel="#{messages['com.bosch.ui.direct']}"
									itemValue="#{messages['com.bosch.ui.direct']}" />
								<f:selectItem itemLabel="#{messages['com.bosch.ui.jobportal']}"
									itemValue="#{messages['com.bosch.ui.jobportal']}" />
								<f:selectItem itemLabel="#{messages['com.bosch.ui.referral']}"
									itemValue="#{messages['com.bosch.ui.referral']}" />
								<a:support event="onchange"
									reRender="cddEmployeeName,cddEmployeeId" ajaxSingle="true" />
							</h:selectOneMenu>
						</s:decorate>

						<s:decorate id="cddEmployeeId" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputText value="#{messages['com.bosch.ui.employee.id']}:"
									rendered="#{candidateHome.instance.cddSource eq 'Referral'}" />
							</ui:define>
							<h:inputText maxlength="10"
								rendered="#{candidateHome.instance.cddSource eq 'Referral'}"
								value="#{candidateHome.instance.cddEmployeeId}"
								styleClass="rtsTextBox" />
						</s:decorate>
						<s:decorate id="cddEmployeeName" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputText value="#{messages['com.bosch.ui.employee.name']}:"
									rendered="#{candidateHome.instance.cddSource eq 'Referral'}" />
							</ui:define>
							<h:inputText maxlength="50"
								rendered="#{candidateHome.instance.cddSource eq 'Referral'}"
								value="#{candidateHome.instance.cddEmployeeName}"
								styleClass="rtsTextBox" />
						</s:decorate>
					</a:region>

					<s:decorate id="cddDescriptField" template="layout/edit.xhtml">
						<ui:define name="label">
							<h:outputLabel value="#{messages['com.bosch.ui.description']}:" />
						</ui:define>
						<h:panelGrid columns="2">
							<h:inputTextarea id="descriptField"
								styleClass="descriptField rtsTextarea"
								value="#{candidateHome.instance.cddSkillDescription}" />

						</h:panelGrid>
					</s:decorate>
				</h:panelGrid>

				<!--Candidate Skills-->
				<s:div styleClass="rts-text-align">
					<ui:include src="/SkillPick.xhtml" />
				</s:div>

				<!--Candidate Resumes-->
				<s:div styleClass="rts-text-align">
					<s:decorate template="layout/editRecruitRequest.xhtml">
						<h:panelGrid columns="2">
							<rich:fileUpload 
								fileUploadListener="#{candidateHome.fileUploadBean.listener}"
								maxFilesQuantity="#{candidateHome.fileUploadBean.uploadsAvailable}"
								id="upload"								
								autoclear="true"
								immediateUpload="#{candidateHome.fileUploadBean.autoUpload}"
								allowFlash="#{candidateHome.fileUploadBean.useFlash}"
								acceptedTypes="#{messages['recruit.request.acceptType']}">
								<a:support event="onuploadcomplete" reRender="info,upload" ajaxSingle="true" focus="upload"/>
								<f:facet name="label">
					                <h:outputText value="{_KB}KB from {KB}KB uploaded --- {mm}:{ss}" />					
					        	</f:facet>
							</rich:fileUpload>

							<rich:panel id="info" styleClass="uploadFileInfo">
								<f:facet name="header">
									<h:outputLabel
										value="#{messages['upload.uploaded.files.info']}" />
								</f:facet>

								<rich:dataTable value="#{candidateHome.fileUploadBean.files}"
									var="_file" rowKeyVar="_indexRow" width="100%"
									rowClasses="brightRow,darkRow"
									rendered="#{not empty candidateHome.fileUploadBean.files}">

									<rich:column styleClass="uploadFirstCell">
										<f:facet name="header">
											<h:outputLabel value="#{messages['upload.file.name']}" />
										</f:facet>
										<h:outputText value="#{_file.name}" styleClass="wordWrap" />
									</rich:column>

									<rich:column styleClass="uploadCell">
										<f:facet name="header">
											<h:outputLabel value="#{messages['project.recruit.status']}" />
										</f:facet>
										<h:selectOneMenu value="#{_file.status}" id="statusOptions">
											<f:selectItem itemLabel="#{messages['status.active']}"
												itemValue="#{messages['status.active']}" />
											<f:selectItem itemLabel="#{messages['status.unActive']}"
												itemValue="#{messages['status.unActive']}" />
										</h:selectOneMenu>
									</rich:column>

									<rich:column styleClass="uploadCell">
										<f:facet name="header">
											<h:outputLabel value="#{messages['upload.file.length']}" />
										</f:facet>
										<h:outputText value="#{_file.toString()}" />
									</rich:column>

									<rich:column styleClass="uploadCell">
										<f:facet name="header">
											<h:outputLabel value="#{messages['upload.remove']}" />
										</f:facet>

										<h:graphicImage value="/img/iconDelete.gif"
											styleClass="customLink">
											<a:support event="onclick"
												action="#{candidateHome.fileUploadBean.clearUploadData('candidate',_indexRow)}"
												ajaxSingle="true" limitToList="true" reRender="info, upload" />
										</h:graphicImage>
									</rich:column>

									<f:facet name="footer">
										<a:commandButton
											action="#{candidateHome.fileUploadBean.clearAllUploadData('candidate')}"
											reRender="info, upload"
											value="#{messages['upload.remove.all']}" ajaxSingle="true"
											styleClass="submitStandard" limitToList="true" />
									</f:facet>
								</rich:dataTable>
							</rich:panel>
						</h:panelGrid>
					</s:decorate>
				</s:div>
			</s:div>

			<s:div id="requiredFields">
				<h:outputLabel styleClass="noteRTS" style="padding-left: 27px;"
					value="(#{messages['accept.upload.file.type']}: #{messages['recruit.request.acceptType']}. " />
				<h:outputLabel styleClass="noteRTS"
					value="#{messages['upload.file.size']}." />
				<h:outputLabel styleClass="noteRTS"
					value="#{messages['maximun.of.files']}.)" />
			</s:div>

			<div style="clear: both">
				<span><rich:spacer height="5" /> </span>
			</div>

			<s:div styleClass="bottom-border">
				<h:commandButton id="saveButton" value="#{messages['Button.Save']}"
					action="#{candidateHome.createCandidate()}"
					styleClass="submitStandard"
					onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});">
					<s:defaultAction />
				</h:commandButton>

				<s:button includePageParams="false" propagation="join"
					styleClass="submitStandard" 
					rendered="#{not empty candidateHome.fromView}"
					view="#{candidateHome.fromView}"
					id="backButton" value="#{resource['Button.Back']}"
					onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});" />
					
				<s:button includePageParams="false"
					propagation="end"
					styleClass="submitStandard" view="/CandidateList.xhtml"
					id="cancelButton" value="#{resource['Button.Cancel']}"
					onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});" />	
			</s:div>
		</h:form>
		<ui:include src="/CandidateModelPanel.xhtml" />
		<a:queue ignoreDupResponses="true" id="queue" requestDelay="1" />
		
		
		<rich:modalPanel id="handledByModal" autosized="true">
	        <f:facet name="header">
	             <h:outputText value="#{resource['candidate.handledby.look.up.form']}"/>
	        </f:facet>
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="/img/close.png" id="handledByHidelink" style="margin: 0px; cursor:pointer;"/>
	                <rich:componentControl for="handledByModal" attachTo="handledByHidelink" operation="hide" event="onclick" sortOrder="ASCENDING"/>
	            </h:panelGroup>
	        </f:facet>
	        <a:form ajaxSingle="true" id="handledByLookupForm" >
	        	<rich:dataTable id="userLookUpTable" 
	        		var="_ur"						
					value="#{userHome.availableUsers}"					
					width="100%"	
					rows="#{messages['item.pagination.size']}"
					rendered="#{not empty userHome.availableUsers}"
					reRender="handledByPagination"
					rowKeyVar="rowNo">
					
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column>
								<h:outputText value="#{resource['form.name']}" />
							</rich:column>
							<rich:column>
								<h:outputText value="#{resource['form.username']}" />
							</rich:column>	
							<rich:column>
								<h:outputText value="#{resource['com.bosch.ui.email']}" />
							</rich:column>	
							<rich:column>
								<h:outputText value="#{resource['form.id.number']}" />
							</rich:column>								
						</rich:columnGroup>											
					</f:facet>	
					
					<rich:column filterMethod="#{handledByFilter.filterFullName}">
						<f:facet name="header">
							<h:inputText value="#{handledByFilter.filterFullNameValue}" id="handledByFullName">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="userLookUpTable,handledByPagination"/>
							</h:inputText>
						</f:facet>
						
						<a:commandLink value="#{_ur.usrFullName}" 
								action="#{candidateHome.populateUser(_ur.usrUserName, 'handledBy')}" 
								ajaxSingle="true" 
								onclick="Richfaces.showModalPanel('ajaxLoadingModalBox')"
								oncomplete="Richfaces.hideModalPanel('handledByModal');Richfaces.hideModalPanel('ajaxLoadingModalBox');"
								reRender="handledByTextField"
								id="handledByPopup"
								process="handledByTextField">										
						</a:commandLink>		
					</rich:column>
						
					<rich:column filterMethod="#{handledByFilter.filterUsername}">
						<f:facet name="header">
							<h:inputText value="#{handledByFilter.filterUsernameValue}" id="handledByUsername">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="userLookUpTable,handledByPagination"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrUserName}" />					
					</rich:column>			
					
					<rich:column filterMethod="#{handledByFilter.filterEmail}">
						<f:facet name="header">
							<h:inputText value="#{handledByFilter.filterEmailValue}" id="inputUsrEmail">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="userLookUpTable,handledByPagination"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrEmail}" />					
					</rich:column>	
					
					<rich:column filterMethod="#{handledByFilter.filterIdNumber}">
						<f:facet name="header">
							<h:inputText value="#{handledByFilter.filterIdNumberValue}" id="handledByIdNumber">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="userLookUpTable,handledByPagination"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrIdNumber}" />					
					</rich:column>										
					
					<f:facet name="footer">
						<rich:datascroller for="userLookUpTable" 
							renderIfSinglePage="false" 
							align="center"
							id="handledByPagination"
							maxPages="#{messages['item.pagination.size']}"/>
					</f:facet>
										    
				</rich:dataTable>
				
				<rich:spacer height="5"/>			
			</a:form>
		</rich:modalPanel>
		
		
		<rich:modalPanel id="shortListByModal" autosized="true">
	        <f:facet name="header">
	             <h:outputText value="#{resource['candidate.shortlist.look.up.form']}"/>
	        </f:facet>
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="/img/close.png" id="shortListByHidelink" style="margin: 0px; cursor:pointer;"/>
	                <rich:componentControl for="shortListByModal" attachTo="shortListByHidelink" operation="hide" event="onclick" sortOrder="ASCENDING"/>
	            </h:panelGroup>
	        </f:facet>
	        <a:form ajaxSingle="true" id="shortListByLookupForm" >
	        	<rich:dataTable id="shortListLookUpTable" 
	        		var="_ur"						
					value="#{userHome.availableUsers}"					
					width="100%"	
					rows="#{messages['item.pagination.size']}"
					rendered="#{not empty userHome.availableUsers}"
					reRender="shortListPaginationId"
					rowKeyVar="rowNo">		
					
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column>
								<h:outputText value="#{resource['form.name']}" />
							</rich:column>
							<rich:column>
								<h:outputText value="#{resource['form.username']}" />
							</rich:column>	
							<rich:column>
								<h:outputText value="#{resource['com.bosch.ui.email']}" />
							</rich:column>	
							<rich:column>
								<h:outputText value="#{resource['form.id.number']}" />
							</rich:column>								
						</rich:columnGroup>											
					</f:facet>	
					
					<rich:column filterMethod="#{shortListByFilter.filterFullName}">
						<f:facet name="header">
							<h:inputText value="#{shortListByFilter.filterFullNameValue}" id="input">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="shortListLookUpTable,shortListPaginationId"/>
							</h:inputText>
						</f:facet>					
		                
		                <a:commandLink value="#{_ur.usrFullName}" 
								action="#{candidateHome.populateUser(_ur.usrUserName, 'shortListBy')}" 
								ajaxSingle="true" 
								onclick="Richfaces.showModalPanel('ajaxLoadingModalBox')"
								oncomplete="Richfaces.hideModalPanel('shortListByModal');Richfaces.hideModalPanel('ajaxLoadingModalBox');"
								reRender="shortListByTextField"
								id="shortListByPopup"
								process="shortListByTextField">										
						</a:commandLink>						
						
					</rich:column>
						
					<rich:column filterMethod="#{shortListByFilter.filterUsername}">
						<f:facet name="header">
							<h:inputText value="#{shortListByFilter.filterUsernameValue}" id="inputUsrName">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="shortListLookUpTable,shortListPaginationId"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrUserName}" />					
					</rich:column>			
					
					<rich:column filterMethod="#{shortListByFilter.filterEmail}">
						<f:facet name="header">
							<h:inputText value="#{shortListByFilter.filterEmailValue}" id="inputUsrEmail">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="shortListLookUpTable,shortListPaginationId"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrEmail}" />					
					</rich:column>	
					
					<rich:column filterMethod="#{shortListByFilter.filterIdNumber}">
						<f:facet name="header">
							<h:inputText value="#{shortListByFilter.filterIdNumberValue}" id="inputUsrIdNumber">
								<a:support event="onkeyup" ignoreDupResponses="true" requestDelay="500"
								oncomplete="setUserToLookUpTable(event);" 
								reRender="shortListLookUpTable,shortListPaginationId"/>
							</h:inputText>
						</f:facet>
						<h:outputText value="#{_ur.usrIdNumber}" />					
					</rich:column>	
										
					
					<f:facet name="footer">
						<rich:datascroller for="shortListLookUpTable" 
							renderIfSinglePage="false" 
							align="center"
							id="shortListPaginationId"
							maxPages="#{messages['item.pagination.size']}"/>
					</f:facet>
										    
				</rich:dataTable>
				
				<rich:spacer height="5"/>			
			</a:form>
		</rich:modalPanel>
		
		<a:region>
	        <h:form>
	            <a:poll id="poll" interval="29000" timeout="30000" reRender="footerSpace" />
	        </h:form>
	    </a:region>
	    
	    <rich:spacer height="5px" id="footerSpace" rendered="#{candidateHome.renderedFooterSpace}"/>	
		
	</ui:define>
</ui:composition>