<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:m="http://jboss.com/products/seam/mail"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://richfaces.org/a4j">
	
	<m:message>
		<m:from name="#{messages['rts.title']}"	address="#{messages['rts.email.address']}" />		
		<ui:repeat value="#{recipients}" var="recipient">
			<m:to name="#{recipient.usrFullName}" address="#{recipient.usrEmail}" />	
		</ui:repeat>	
		<m:subject>#{messages['rts.name']} - #{messages['interview.schedule.technical.result']}</m:subject> 
		<m:body>
			<head>
				<f:verbatim escape="true">
					<style type="text/css">
						body{
							font-family: arial,  helvetica, sans-serif;
							color: #666666;
							font-size: 12px;
						}
						.title{
							font-family: arial,  helvetica, sans-serif;
							font-size: 20px;
							font-weight:bold;
						}
						.subtitle{
							font-family: arial,  helvetica, sans-serif;
							font-size: 14px;
							font-weight:bold;
						}
						.footer{
							font-family: verdana,  helvetica, sans-serif;
							color: #666666;
							font-size: 10px;	
						}
						a:link {
							color:#046380;
							text-decoration:underline;
						}
						a:visited {
							color:#a7a37e;
							text-decoration:none;
						}
						a:hover {
							color:#002f2f;
							text-decoration:underline;
						}
						a:active {
							color:#046380;
							text-decoration:none;
						}
						.table{
							border: #8CD1D1 1px solid;
						}
						.header{
							background-color: #8CD1D1;
						}
					</style>
				</f:verbatim>
			</head>
			<h:panelGrid columns="1" width="100%">
			<body>
				<table align="center" style="width: 100%; border: #8CD1D1 1px solid" cellpadding="10" cellspacing="0">
					<tr class="header">
						<td>
							<div class="title"><a href="#{rtsAddress}">#{messages['rts.title']}</a></div>
						</td>
					</tr>
					<tr>
						<td>
							<table style="width: 100%;" border="0" cellpadding="0" cellspacing="0" align="center">
						<tr>
						  <td>		
						  	<p>
								<s:decorate template="display.xhtml">
									<h:outputText value="Dear Sir or Madam, " />						
								</s:decorate>								
							</p>	
							<p>								
								<s:decorate template="display.xhtml">
									<h:outputText value="Interviewers have given their feedbacks for candidate: #{technicalResult.interviewSchedule.candidate.cddName}." />
								</s:decorate><br />
								<s:decorate template="display.xhtml">
									<h:outputText value="Kindly find the information as below," />
								</s:decorate><br />								
							</p>									
															
							<strong class="subtitle">#{messages['int.sch']}</strong>
								
							<table align="center" style="width: 100%; border: #8CD1D1 1px solid;" cellpadding="5" cellspacing="5">
								<tr>
									<td><p>
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['int.sch.no']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.interviewSchedule.itsInterviewScheduleId}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['int.sch.onwed.by']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{ownerBy.usrFullName}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['candidate.name']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.interviewSchedule.candidate.cddName}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['candidate.email']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.interviewSchedule.candidate.cddEmail}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['form.applied.for.level']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.interviewSchedule.itsApplyForLevel.name}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['int.sch.interviewers']}:" /> </strong>
												</ui:define>
												<a:repeat value="#{technicalResult.interviewSchedule.interviewers}" 
													var="_interviewer"
													rowKeyVar="_key">
													<h:outputText value="#{_key + 1}. " />
													<h:outputLink value="mailto:#{_interviewer.usrEmail}">
														<h:outputText value="#{_interviewer.usrFullName}" />
													</h:outputLink>
													<br />
												</a:repeat>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> <h:outputLabel
															value="#{messages['com.bosch.ui.feedback.by']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{feedbackBy.usrFullName}"/>
											</s:decorate>
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> 
													<h:outputLabel
															value="#{messages['com.bosch.ui.feedback.on']}:" /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.createdOn}">
													<s:convertDateTime type="both"
														pattern="#{messages['calendar.pattern']}" locale="#{calendarBean.locale}"/>
												</h:outputText>
											</s:decorate>	
											
											<s:decorate template="display.xhtml">
												<ui:define name="label">
													<strong> 
													<h:outputLabel
															value="#{messages['candidate.history.technical.result']}: " /> </strong>
												</ui:define>
												<h:outputText value="#{technicalResult.interviewSchedule.candidate.cddStatus}"/>
											</s:decorate>										
											
											<br/> 
										</p>
									</td>
								</tr>
							</table>						
							<br/>							
							
							<br />
							To view this technical result, please go to RTS system (#{rtsAddress})
									and navigate to &gt; Interview Schedules &gt; Search Interview Schedules &gt; View Technical Result.
							<br />
							
							<br />
								Please refer to the manuals which are linked on tab "Help" and which describe how to work with the RTS system.
							<br />
							
							</td>
						</tr>
						</table>
						</td>
					 </tr>
					<tr>
						<td bgcolor="#8CD1D1" style="border-top: #8CD1D1 1px solid;" align="center">
							<div class="footer">
								This message is automatically generated by <a href="#{rtsAddress}">#{messages['rts.name']}</a>.<br/>
								If you think it was sent incorrectly, please contact your RTS administrators.
							</div>
						</td>
					</tr>
				</table>
			</body>
			</h:panelGrid>
		</m:body>
	</m:message>
	
</ui:composition>