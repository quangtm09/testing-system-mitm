<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">	
	
	<rich:modalPanel id="candidateAddInterviewSchedulePanel" autosized="true"
			onmaskclick="Richfaces.hideModalPanel('candidateAddInterviewSchedulePanel');">
		<f:facet name="header">
			<h:outputText value="#{messages['candiadte.header.add.schedule.form']}" />
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/img/close.png" id="attrHidelink"
					style="margin: 0px; cursor:pointer;" title="#{messages['Button.Close']}"/>					
				<rich:componentControl for="candidateAddInterviewSchedulePanel"
					attachTo="attrHidelink" operation="hide" event="onclick"
					sortOrder="ASCENDING"/>
			</h:panelGroup>
		</f:facet>
		
		<a:form id="addInterviewScheduleForm">			
			<a:outputPanel id="addMessage">
				<h:messages globalOnly="true" styleClass="message"
					errorClass="errormsg" infoClass="infomsg" warnClass="warnmsg" />
			</a:outputPanel>
			
			<rich:panel id="interviewScheduleCreatePanel">
				<f:facet name="header">
					<h:outputLabel value="#{messages['create.interview.schedule']}" />
				</f:facet>
		
				<rich:panel id="interviewScheduleGeneralInfoPanel" styleClass="resetPanelPosition">
					<f:facet name="header">
						<h:outputLabel
							value="#{messages['recruit.request.header.general.info']}" />
					</f:facet>			
					
						<h:panelGrid columns="2">
							<s:decorate template="layout/edit.xhtml">
								<ui:define name="label">
									<h:outputLabel value="#{messages['interview.schedule.candidate']}:" />
								</ui:define>
							<h:inputText value="#{interviewScheduleHome.instance.candidate}" 
								disabled="true"
								styleClass="rtsTextBox"/>
							</s:decorate>	
							
							<s:decorate>
								<rich:spacer/>
							</s:decorate>					
						
							<s:decorate template="layout/editInterviewers.xhtml">
								<ui:define name="label">
									<h:outputLabel value="#{messages['int.sch.interviewers']}:" />
								</ui:define>							
								
								<rich:pickList value="#{interviewScheduleHome.selectedInterviewers}"
									id="inteviewersListId" 
									required="true"
									requiredMessage="#{messages['error.select.required']} #{' '} #{messages['int.sch.interviewers']}">
									<s:selectItems var="_int" 
										value="#{interviewScheduleHome.interviewerList}"
										label="#{_int.usrFullName}"/>
									<s:convertEntity/>								
								</rich:pickList>				
							</s:decorate>
						<a:region>
							<s:decorate id="cddRecruitRequestField" template="layout/edit.xhtml">
								<ui:define name="label" >
									<h:outputLabel value="#{messages['com.bosch.ui.applyforrequest']}:" />
								</ui:define>									
								<h:selectOneMenu 
									value="#{interviewScheduleHome.instance.recruitRequest}"
									rendered="#{not empty interviewScheduleHome.recruitRequests}"
									styleClass="rtsSelectOneMenu">
									<s:selectItems
										value="#{interviewScheduleHome.recruitRequests}" 
										var="rr"
										label="#{rr.recruitRequestName}"
										noSelectionLabel="#{messages['selectOptions']}">
									</s:selectItems>
									<s:convertEntity/>
								</h:selectOneMenu>								
							</s:decorate>
							<s:decorate id="cddApplyForLevelField" template="layout/edit.xhtml">
								<ui:define name="label" >
									<h:outputLabel value="#{messages['com.bosch.ui.applyforrequest']}:" />
								</ui:define>									
								<h:selectOneMenu value="#{interviewScheduleHome.instance.itsApplyForLevel}"									
									required="true"
									requiredMessage="#{messages['error.enter.required']} #{' '} #{messages['interview.apply.for.level']}"
									styleClass="rtsSelectOneMenu">
									<f:selectItem itemLabel="#{messages['int.sch.level.48.to.51']}"
										itemValue="1"/>
									<f:selectItem itemLabel="#{messages['int.sch.level.52.to.53']}"
										itemValue="2" />
									<f:selectItem itemLabel="#{messages['int.sch.level.54.to.56']}"
										itemValue="3" />
									<f:selectItem itemLabel="#{messages['int.sch.level.57']}"
										itemValue="4"/>
								</h:selectOneMenu>								
							</s:decorate>					
							
						</a:region>
						
						<s:decorate id="itsInterviewTimeFieldTechnical"
							template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.technical']} #{messages['interview.at']}:"/>
							</ui:define>									
							<rich:calendar id="itsInterviewTimeTechnical" 
								styleClass="rtsCalendar"
								value="#{interviewScheduleHome.instance.itsTechnicalInterviewTime}"
								datePattern="#{messages['calendar.pattern.long']}" 
								required="true" 
								requiredMessage="#{messages['error.select.required']} #{' '} #{messages['interview.schedule.technical']}" />											
						</s:decorate>	
					
						<s:decorate id="itsInterviewTimeFieldHr"
							template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.hr']} #{messages['interview.at']}:"/>
							</ui:define>									
							<rich:calendar id="itsInterviewTimeHr" 
								styleClass="rtsCalendar"
								value="#{interviewScheduleHome.instance.itsHrInterviewTime}"
								datePattern="dd.MMM.yyyy hh:mm a"/>											
						</s:decorate>	
					
						<s:decorate id="itsTechnicalInterviewLocation" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.technical.location']}:" />
							</ui:define>
							<h:inputText required="true" 
								requiredMessage="#{messages['error.select.required']} #{' '} #{messages['interview.schedule.technical.location']}" 
								value="#{interviewScheduleHome.instance.itsTechnicalLocation}" 
									styleClass="rtsTextBox" maxlength="50"/>
						</s:decorate>		
					
						<s:decorate id="itsHrInterviewLocation" template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.hr.location']}:" />
							</ui:define>
							<h:inputText 
								value="#{interviewScheduleHome.instance.itsHrLocation}" 
									styleClass="rtsTextBox" maxlength="50"/>
						</s:decorate>					
						
						<s:decorate template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.technical.mode']}:"/>
							</ui:define>
							<h:selectOneMenu id="itsTechnicalInterViewMode"
								styleClass="rtsSelectOneMenu"
								value="#{interviewScheduleHome.instance.itsTechnicalInterviewType}"
								required="true"
								requiredMessage="#{messages['error.select.required']} #{' '} #{messages['interview.mode']}">
								<f:selectItem itemLabel="#{messages['selectOptions']}"/>
								<f:selectItem itemLabel="#{messages['recurit.request.customer.tel']}" itemValue="#{messages['recurit.request.customer.tel']}" />
								<f:selectItem itemLabel="#{messages['recurit.request.customer.personal']}" itemValue="#{messages['recurit.request.customer.personal']}" />
							</h:selectOneMenu>
						</s:decorate>
					
						<s:decorate template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['interview.schedule.hr.mode']}:"/>
							</ui:define>
							<h:selectOneMenu id="itsHrInterViewMode"
								styleClass="rtsSelectOneMenu"
								value="#{interviewScheduleHome.instance.itsHRInterviewType}">
								<f:selectItem itemLabel="#{messages['selectOptions']}"/>
								<f:selectItem itemLabel="#{messages['recurit.request.customer.tel']}" itemValue="#{messages['recurit.request.customer.tel']}" />
								<f:selectItem itemLabel="#{messages['recurit.request.customer.personal']}" itemValue="#{messages['recurit.request.customer.personal']}" />
							</h:selectOneMenu>
						</s:decorate>
					
						<s:decorate template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['int.sch.technical']} #{' '} #{messages['com.bosch.ui.remark']}:" />
							</ui:define>
							
							<h:inputTextarea id="itrsTechnicalInterviewScheduleRemark"
								styleClass="itrsTechnicalInterviewScheduleRemark rtsTextarea"								
								value="#{interviewScheduleHome.instance.itsTechnicalRemark}" 
								required="false"/>
							<script>
								jQuery('.itrsInterviewScheduleRemark').keyup( function() {
								   textCounter(this,'counterRemarkElement',500);
								});
								
								jQuery('.itrsInterviewScheduleRemark').keydown( function() {
								   textCounter(this,'counterRemarkElement',500);
								});
							</script>
						</s:decorate>
					
						<s:decorate template="layout/edit.xhtml">
							<ui:define name="label">
								<h:outputLabel value="#{messages['int.sch.hr']} #{' '} #{messages['com.bosch.ui.remark']}:" />
							</ui:define>
							
							<h:inputTextarea id="itrsHrInterviewScheduleRemark"
								styleClass="itrsHrInterviewScheduleRemark rtsTextarea"								
								value="#{interviewScheduleHome.instance.itsHRRemark}"/>
								<script>
									jQuery('.itrsInterviewScheduleRemark').keyup( function() {
									   textCounter(this,'counterRemarkElement',500);
									});
									
									jQuery('.itrsInterviewScheduleRemark').keydown( function() {
									   textCounter(this,'counterRemarkElement',500);
									});
								</script>
								<br/>						
						</s:decorate>
					
					</h:panelGrid>	
					
				</rich:panel>		
				
			</rich:panel>		
			
			<s:div id="requiredFields" styleClass="required_fields">
				<span class="required">*</span> <h:outputLabel value="#{messages['required.fields']}" />
			</s:div>		
			
			<div class="actionButtons" style="clear:both;">
				<rich:toolBar style="margin:0; padding:0;">
					<a:commandButton 
						value="#{messages['Button.Add.Interview.Schedule']}" 
						styleClass="submitStandard"
						ignoreDupResponses="true"
						action="#{interviewScheduleHome.createInterviewSchedule()}"
						onclick="Richfaces.showModalPanel('ajaxLoadingModalBox',{width:50, top:200});"
						oncomplete="Richfaces.hideModalPanel('ajaxLoadingModalBox');"
						limitToList="true"
						rendered="#{not interviewScheduleHome.interviewScheduleAdded}"
						reRender="searchResultPanel,addInterviewScheduleForm,addMessage"/>						
					<s:button value="Cancel"
						type="button"
						onclick="#{rich:component('candidateHistoryPanel')}.hide();return false;"
						styleClass="submitStandard">
					</s:button>							
				</rich:toolBar>
			</div>			
			
		</a:form>		
		
	</rich:modalPanel>	
</ui:composition>