<page no-conversation-view-id="/CandidateList.xhtml"
	xmlns="http://jboss.com/products/seam/pages"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" login-required="true"
	xsi:schemaLocation="http://jboss.com/products/seam/pages http://jboss.com/products/seam/pages-2.2.xsd">
	<restrict>#{caPrivilege.addableCandidate and not identity.hasRole('disabledUser')}</restrict>
	<begin-conversation flush-mode="auto" join="true"/>
	
	<action execute="#{skillPickBean.setUseTwoYear(false)}"/>
	<action execute="#{candidateHome.loadApplyForRecruitRequets()}" on-postback="false"/>
	<action execute="#{candidateHome.wire}"/>
	<action execute="#{userHome.onloadUsers()}" on-postback="false"/>
	<action execute="#{candidateHome.fetchSkillPick()}" on-postback="false"/>	
	<param name="candidateCddCandidateId" value="#{candidateHome.candidateCddCandidateId}"/>
	<param name="recruitRequestRcrRecruitRequestId" value="#{recruitRequestHome.recruitRequestRcrRecruitRequestId}"/>
	<param name="userUsrUserId" value="#{userHome.userUsrUserId}"/>
	 
	 <navigation from-action="#{candidateHome.createCandidate()}">
		<rule if-outcome="persisted">
			<end-conversation before-redirect="true"/>
			<redirect include-page-params="false" view-id="/CandidateList.xhtml"/>
		</rule>
		<rule if-outcome="failure">
			<render view-id="/CandidateCreate.xhtml"/>
		</rule>
	 </navigation>
	 
	 <navigation from-action="#{candidateHome.dispatchEditPage()}">
		 <rule if-outcome="success">
			 <redirect view-id="/CandidateEdit.xhtml"/>
		 </rule>
		 <rule if-outcome="failure">
			 <render view-id="/CandidateCreate.xhtml"/>
		 </rule>
	 </navigation>
</page>
